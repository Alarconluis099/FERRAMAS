/* Base compartida: variables y utilidades */
:root {
    --color-primary: #ffb347;
    --color-primary-hover: #ffa028;
    --color-accent: #ffd36a;
    --color-bg: #f8f6f2;
    --color-bg-alt: #ffffff;
    --color-border: #e3ded6;
    --color-text: #222;
    --color-text-muted: #6a6765;
    --radius-sm: 6px;
    --radius-md: 12px;
    --shadow-sm: 0 2px 4px rgba(0, 0, 0, .08);
    --shadow-md: 0 6px 16px rgba(0, 0, 0, .12);
    font-family: 'Montserrat', 'Arial', sans-serif;
}

html,
body {
    height: 100%;
}

body {
    background: #ffffff !important;
    color: #1a1a1a;
    scroll-behavior: smooth;
    display: flex;
    flex-direction: column;
}

.main-content,
section,
footer.site-footer,
.seccion-promociones,
.seccion-lanzamientos,
.seccion-marcas { background:#ffffff !important; }

section, .seccion-promociones, .seccion-lanzamientos, .seccion-marcas { padding-left:16px; padding-right:16px; }

/* Fallback: fuerza blanco en html si algún CSS externo lo cambia */
html {
    background: #ffffff !important;
}

.main-content { flex:1 0 auto; padding:0 16px 2rem; }

.site-footer {
    flex-shrink: 0;
}

nav.navbar.app-navbar {
    position: sticky;
    top: 0;
    z-index: 1040;
    background: linear-gradient(90deg, #ffad32, #ffb347) !important;
    border-bottom: 3px solid #ffa028;
    box-shadow: 0 4px 12px rgba(0, 0, 0, .08);
    padding: 4px 16px; /* laterales 16px */
    /* ajustado para centrar logo */
    min-height: 62px;
    /* un poco más compacto */
    display: flex;
    align-items: center;
}

.app-navbar .navbar-item,
.app-navbar .navbar-item a,
.app-navbar .usuario-navbar h1 {
    color: #ffffff !important;
    font-weight: 600;
}

.app-navbar .navbar-burger span {
    background: #ffffff;
}

.app-navbar .logo-wrap {
    padding: 0 6px;
    display: flex;
    align-items: center;
}

.app-navbar .navbar-brand {
    display: flex;
    align-items: center;
}

/* Logo reducido para encajar dentro de la barra sin sobresalir */
.logo-circle {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 50px;
    height: 50px;
    background: #ffffff;
    border-radius: 50%;
    border: 2px solid rgba(255, 255, 255, .9);
    box-shadow: 0 0 0 2px rgba(255, 255, 255, .35), 0 2px 4px rgba(0, 0, 0, .10);
}

/* Desactiva efectos hover sobre el logo */
.navbar .logo-wrap:hover, .navbar .logo-wrap:focus { background: transparent !important; box-shadow:none !important; }
.navbar .logo-wrap { pointer-events:auto; }
.navbar .logo-wrap img { pointer-events:none; }

.logo-circle .logo-img {
    max-height: 34px;
    width: auto;
    display: block;
}

.app-navbar .navbar-item img {
    filter: none;
}

/* BOTONES NAV: ghost con contraste, hover y active claros */
.app-navbar .button.is-light {
    position: relative;
    background: rgba(255, 255, 255, .16);
    border: 1px solid rgba(255, 255, 255, .6);
    color: #fff !important;
    font-weight: 600;
    letter-spacing: .3px;
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
    box-shadow: 0 2px 4px rgba(0, 0, 0, .1);
    transition: background .25s, color .25s, box-shadow .25s, transform .25s;
}

.app-navbar .button.is-light:hover {
    background: #ffffff;
    color: #c95500 !important;
    box-shadow: 0 4px 14px -2px rgba(0, 0, 0, .25);
    transform: translateY(-2px);
}

.app-navbar .button.is-light:active {
    transform: translateY(0);
    box-shadow: 0 2px 6px rgba(0, 0, 0, .18) inset;
}

.app-navbar .button.is-light:focus-visible {
    outline: 2px solid #fff;
    outline-offset: 2px;
}

.app-navbar .button.is-light.active {
    background: #ffffff;
    color: #b44400 !important;
}

.app-navbar .button.cart-button {
    background: #ffffff;
    color: #d65f00 !important;
    border: 1px solid #ffd7a2;
}

.app-navbar .button.cart-button:hover {
    background: #fffbf6;
}

/* Ajuste de pills para separación visual */
.app-navbar .buttons .button {
    margin-left: 12px;
    border-radius: 32px;
    padding: 10px 22px;
}

.app-navbar .usuario-navbar {
    display: flex;
    align-items: center;
    height: 100%;
}

/* Texto de bienvenida centrado y más legible */
.app-navbar .usuario-navbar h1 {
    color: #fff !important;
    font-size: .98rem;
    margin: 0 16px 0 4px;
    /* un poco más de aire a la derecha */
    padding: 0 4px;
    font-weight: 600;
    line-height: 1;
    /* evita desajuste vertical */
    display: flex;
    align-items: center;
    height: 100%;
    letter-spacing: .4px;
    text-shadow: 0 1px 2px rgba(0, 0, 0, .35);
    border-left: 1px solid rgba(255, 255, 255, .35);
    padding-left: 12px;
    /* separador visual sutil */
}

.app-navbar .buttons {
    display: flex;
    align-items: center;
}

.app-navbar .buttons .button {
    height: 44px;
    display: flex;
    align-items: center;
}

.app-navbar .button.cart-button {
    position: relative;
    padding: 10px 22px;
}

.app-navbar .cart-badge {
    top: -4px;
    right: -4px;
}

/* --- Nuevo bloque usuario + carrito estilo compacto --- */
.nav-action-group {
    display: flex;
    align-items: center;
    gap: 18px;
}

.nav-user-block {
    display: flex;
    align-items: center;
    gap: 10px;
    color: #fff;
    font-weight: 600;
}

.nav-user-block .user-text {
    font-size: .9rem;
    line-height: 1.1;
    letter-spacing: .3px;
}

.nav-user-block .link-inline {
    color: #fff;
    text-decoration: none;
    font-weight: 700;
    position: relative;
}

.nav-user-block .link-inline:hover {
    text-decoration: underline;
}

.separator-dot {
    padding: 0 4px;
    opacity: .75;
}

.icon-circle {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 42px;
    height: 42px;
    background: #ffffff;
    color: #d05a00;
    border-radius: 50%;
    font-size: 1.08rem;
    box-shadow: 0 2px 4px rgba(0, 0, 0, .15);
    position: relative;
}

.icon-circle.cart-icon {
    font-size: 1.05rem;
}

.nav-separator {
    width: 1px;
    align-self: stretch;
    background: rgba(255, 255, 255, .55);
    margin: 0 4px;
}

.nav-cart-block {
    position: relative;
    display: inline-flex;
    align-items: center;
    text-decoration: none;
}

.nav-cart-block .cart-badge {
    position: absolute;
    top: -6px;
    right: -6px;
}

/* Ajusta badge encima del icono circular */
.nav-cart-block .cart-badge {
    background: #dc3545;
}

.cart-badge {
    position: absolute;
    top: -6px;
    right: -6px;
    background: #dc3545;
    color: #fff;
    font-size: .55rem;
    padding: 2px 6px;
    border-radius: 20px;
    font-weight: 600;
    display: inline-block;
    min-width: 22px;
    text-align: center;
    line-height: 1;
}

.cart-button {
    padding-right: 22px;
}

/* Remove white gap under navbar */
/* Se elimina padding superior global solicitado */
main.main-content { padding-top: 0 !important; }
body > .main-content, body main.main-content { margin-top:0; }
/* Optionally tone down border and use shadow only */
nav.navbar.app-navbar { border-bottom: 1px solid rgba(255,255,255,.25); box-shadow: 0 2px 6px rgba(0,0,0,.08); }

.btn-primary-light {
    background: var(--color-primary);
    border: 1px solid var(--color-primary-hover);
    color: #222;
    font-weight: 600;
    padding: .6rem 1.15rem;
    border-radius: 30px;
    font-size: .75rem;
    letter-spacing: .5px;
    box-shadow: var(--shadow-sm);
    transition: .3s;
}

.btn-primary-light:hover {
    background: var(--color-primary-hover);
}

.responsive-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 22px;
    justify-content: center;
}

.card-soft {
    background: #ffffff;
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-sm);
}

@media (max-width:900px) {
    .hide-mobile {
        display: none !important;
    }
}

/* Footer */
.site-footer {
    background: #ffffff;
    color: #222;
    font-size: .85rem;
    border-top: 4px solid var(--color-primary);
}

.site-footer .footer-top {
    border-top: none;
}

.site-footer h5 {
    color: #111;
    font-size: .9rem;
    letter-spacing: .5px;
    text-transform: uppercase;
}

.footer-link {
    color: #444;
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    gap: .25rem;
    padding: .15rem 0;
}

.footer-link:hover {
    color: var(--color-primary);
}

.footer-text {
    color: #555;
    display: block;
    padding: .15rem 0;
}

.footer-bottom {
    background: #ffffff;
    border-top: 1px solid #e3e3e3;
}

.footer-brand img {
    filter: none;
}

.footer-list {
    padding: 0;
}

/* --- Top search pill --- */
.top-search {
    position: relative;
    display: flex;
    align-items: center;
    width: 100%;
    background: #ffffff;
    border-radius: 40px;
    padding: 4px 14px 4px 18px;
    box-shadow: 0 2px 6px rgba(0, 0, 0, .12);
    border: 1px solid rgba(255, 255, 255, .4);
    transition: box-shadow .25s, transform .15s;
}

.top-search:focus-within {
    box-shadow: 0 4px 14px rgba(0, 0, 0, .18);
}

.top-search input {
    flex: 1;
    border: none;
    background: transparent;
    outline: none;
    font-size: .9rem;
    padding: 6px 8px;
    color: #111;
}

.top-search input::placeholder {
    color: #888;
    letter-spacing: .3px;
}

.top-search button {
    background: transparent;
    border: none;
    color: #0d48a1;
    font-size: 1.05rem;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 4px 6px;
    cursor: pointer;
    border-left: 1px solid #e3e3e3;
    margin-left: 6px;
}

.top-search button:hover {
    color: #083779;
}

.dark-theme .top-search {
    background: #1c1f26;
    border-color: #2c313a;
}

.dark-theme .top-search input {
    color: #f2f2f2;
}

.dark-theme .top-search input::placeholder {
    color: #aaa;
}

.dark-theme .top-search button {
    border-left: 1px solid #333;
    color: #5da0ff;
}

/* ===== Utilidades tipográficas y espaciado ===== */
.fs-65 {
    font-size: .65rem !important;
}

.fs-70 {
    font-size: .7rem !important;
}

.fs-75 {
    font-size: .75rem !important;
}

.fs-80 {
    font-size: .8rem !important;
}

.fs-90 {
    font-size: .9rem !important;
}

.fw-600 {
    font-weight: 600 !important;
}

/* ===== Layout productos / filtros ===== */
.products-layout {
    display: flex;
    gap: 1.5rem;
    align-items: flex-start;
}

.filters-sidebar {
    width: 340px;
    background: #f5f5f5;
    border: 1px solid #ddd;
    border-radius: 12px;
    padding: 1.25rem 1.35rem;
    font-size: .9rem;
    position: sticky;
    top: 80px;
    height: fit-content;
}

.filters-sidebar .form-control,
.filters-sidebar .form-select {
    font-size: .85rem;
    padding: .62rem .75rem;
    border-radius: 9px;
}

.filters-sidebar button {
    min-width: 110px;
}

.filters-title {
    font-size: 1rem;
    margin-top: 0;
}

.filters-form {
    display: flex;
    flex-direction: column;
    gap: .75rem;
}

.filters-form label {
    font-weight: 600;
    font-size: .7rem;
    letter-spacing: .5px;
}

.filters-actions {
    display: flex;
    gap: .5rem;
    flex-wrap: wrap;
}

.pagination-toolbar {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 1rem;
    margin: .25rem 0 1rem 0;
    font-size: .8rem;
    background: #f7f7f7;
    padding: .5rem 1rem;
    border-radius: 4px;
}

.pagination-end {
    margin-left: auto;
    display: flex;
    align-items: center;
    gap: .75rem;
}

.per-page-group {
    display: flex;
    align-items: center;
    gap: .35rem;
}

.page-controls {
    display: flex;
    align-items: center;
    gap: .35rem;
}

.qty-input {
    font-size: .65rem !important;
}

.stock-note {
    font-size: .65rem;
}

/* ===== Autocomplete highlight ===== */
.hl-match {
    background: #ffedb5;
    color: #222;
    border-radius: 3px;
    padding: 0 2px;
}

/* ===== Navbar search wrapper (reemplaza inline style) ===== */
.navbar-start-search {
    max-width: 640px;
    width: 640px;
    display: flex;
    align-items: center;
    margin-left: auto;
    margin-right: 16px;
}

/* ===== Footer brand image height ===== */
.footer-brand img {
    max-height: 60px;
}

/* ===== Login remember me ===== */
.remember-group {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-top: 6px;
}

.remember-checkbox {
    width: 16px;
    height: 16px;
    cursor: pointer;
}

.remember-label {
    margin: 0;
    font-weight: 500;
    font-size: .75rem;
    letter-spacing: .5px;
    cursor: pointer;
}

/* ===== Botones compactos reutilizables ===== */
.btn-compact {
    padding: 2px 8px;
    font-size: .7rem;
}

.select-compact {
    padding: 2px 6px;
    font-size: .8rem;
}

/* ===== Carrito tabla columnas ===== */
.th-prod {
    min-width: 240px;
}

.th-cant {
    width: 140px;
}

.th-precio {
    width: 120px;
}

.th-total {
    width: 140px;
}

.th-actions {
    width: 40px;
}

/* ===== Flex utilities ===== */
.flex-grow-1 {
    flex: 1 1 auto;
}

/* ===== Admin utilities ===== */
.text-summary {
    font-weight: 600;
    color: #334155;
}

.label-hidden {
    visibility: hidden;
}

.action-btn.inline {
    display: inline-block;
}

/* ===== Shop layout: sidebar aligned with carousel ===== */
.layout-shop {
    display: flex;
    align-items: flex-start;
    gap: 2rem;
    margin-top: 1rem;
}

.layout-shop .shop-main {
    flex: 1 1 auto;
    min-width: 0;
    display: flex;
    flex-direction: column;
    gap: 1.25rem;
}

.hero-carousel {
    border: 1px solid #e5e5e5;
    border-radius: 14px;
    overflow: hidden;
    box-shadow: 0 4px 12px rgba(0, 0, 0, .06);
    background: #fff;
}

.hero-carousel .carousel,
.hero-carousel .carousel-inner,
.hero-carousel .carousel-item,
.hero-carousel img {
    width: 100%;
    height: 100%;
}

.hero-carousel img {
    object-fit: cover;
}

@media (max-width:1100px) {
    .layout-shop {
        flex-direction: column;
    }

    .filters-sidebar {
        position: relative;
        top: 0;
        width: 100%;
        display: flex;
        flex-wrap: wrap;
        gap: 1rem;
    }

    .filters-sidebar form {
        flex: 1 1 260px;
    }
}

/* ===== Filtros en barra full width (modo restaurado) ===== */
.filters-bar {
    background: #f5f5f5;
    border: 1px solid #ddd;
    border-radius: 12px;
    padding: 1rem 1.25rem;
    margin: 1.25rem 0;
    display: flex;
    flex-direction: column;
    gap: .75rem;
}

.filters-bar-form {
    display: flex;
    flex-wrap: wrap;
    align-items: flex-end;
    gap: 1rem;
}

.filters-bar-form .f-group {
    display: flex;
    flex-direction: column;
    min-width: 140px;
    flex: 0 0 auto;
}

.filters-bar-form label {
    font-size: .7rem;
    font-weight: 600;
    letter-spacing: .5px;
    margin-bottom: 4px;
    text-transform: uppercase;
}

.filters-bar-form .form-control,
.filters-bar-form .form-select {
    font-size: .75rem;
    padding: .5rem .65rem;
    border-radius: 8px;
}

.filters-bar-form .f-actions {
    display: flex;
    gap: .5rem;
    align-items: center;
}

@media (max-width:760px) {
    .filters-bar-form {
        flex-direction: column;
        align-items: stretch;
    }

    .filters-bar-form .f-group {
        width: 100%;
    }

    .filters-bar-form .f-actions {
        width: 100%;
    }

    .filters-bar-form .f-actions button {
        flex: 1;
    }
}

/* ===== Dark catalog layout (side filters) ===== */
.catalog-dark {
    background: #242424;
    padding: 0 0 2rem 0;
}

.catalog-light {
    background: #fafafa;
    padding: 0 0 2rem 0;
}

.catalog-layout {
    display: flex;
    align-items: flex-start;
    gap: 2rem;
}

/* Sidebar 1/5, main 4/5 on large screens */
.catalog-layout .filters-panel {
    flex: 0 0 20%;
    width: 20%;
    min-width: 240px;
    max-width: 360px;
}

.catalog-layout .catalog-main {
    flex: 1 1 0;
}

/* With real-time filters the actions area (if present) can collapse */
.filters-panel .fp-actions:empty {display:none !important;padding:0;border:none;box-shadow:none;}

.catalog-title {
    color: #fff;
    font-size: 1.15rem;
    margin: 0 0 .75rem;
    font-weight: 600;
}

.filters-panel {
    background: #1f1f1f;
    border: 1px solid #333;
    border-radius: 8px;
    padding: 18px 16px; /* lateral 16px */
    color: #ddd;
    position: sticky;
    top: 82px;
    max-height: calc(100vh - var(--nav-offset, 70px) - 40px);
    overflow: auto;
    box-shadow: 0 4px 14px rgba(0, 0, 0, .35);
    overscroll-behavior: contain;
}
.catalog-light .filters-panel {
    background: #ffffff;
    border: 1px solid #e6e3de;
    border-radius: 16px;
    padding: 22px 16px; /* lateral 16px */
    box-shadow: 0 10px 28px -8px rgba(0, 0, 0, .08), 0 4px 10px -2px rgba(0, 0, 0, .06);
}
/* Compact mode when viewport height is small */
@media (max-height: 820px) {
    .catalog-light .filters-panel {padding:18px 16px;}
    .catalog-light .filters-panel form {gap:18px;}
    .catalog-light .collapse-group .collapse-body {padding:10px 12px;}
    .catalog-light .mini-field input,.catalog-light .mini-field select,.catalog-light .filter-input{padding:.55rem .6rem;}
    .catalog-light .filter-actions #btn-apply,.catalog-light .filter-actions #btn-clear{padding:.55rem .8rem;}
}
.catalog-light .filters-panel form {
    gap: 26px;
}
.filters-panel .fp-layout{display:flex;flex-direction:column;height:100%;}
.filters-panel .fp-scroll{flex:1 1 auto;overflow:auto;padding-right:4px;scrollbar-width:thin;}
.filters-panel .fp-scroll{overflow-x:hidden;}
.filters-panel .fp-scroll::-webkit-scrollbar{width:8px;}
.filters-panel .fp-scroll::-webkit-scrollbar-track{background:transparent;}
.filters-panel .fp-scroll::-webkit-scrollbar-thumb{background:#cfcac5;border-radius:4px;}
.catalog-dark .filters-panel .fp-scroll::-webkit-scrollbar-thumb{background:#444;}
.filters-panel .fp-actions{flex:0 0 auto;margin-top:14px;position:sticky;bottom:0;background:inherit;padding-top:8px;border-top:1px solid rgba(0,0,0,.05);} 
.filters-panel .fp-head{display:flex;align-items:center;justify-content:space-between;margin:0 0 10px 0;font-size:.68rem;font-weight:600;letter-spacing:.4px;color:#cc5e00;padding:2px 0 6px;border-bottom:1px solid #e9e5e1;}
.catalog-dark .filters-panel .fp-head{color:#ffb347;border-bottom:1px solid #333;}
.filters-panel .fp-clear-btn{background:none;border:none;color:#c04900;font-size:.6rem;font-weight:700;letter-spacing:.5px;cursor:pointer;padding:4px 6px;border-radius:6px;transition:.25s;}
.filters-panel .fp-clear-btn:hover{background:rgba(255,179,71,.12);color:#a63d00;}
.catalog-dark .filters-panel .fp-clear-btn{color:#ff9d32;}
.catalog-dark .filters-panel .fp-clear-btn:hover{background:rgba(255,179,71,.18);color:#ffa94d;}
.active-filters{display:flex;flex-wrap:wrap;gap:6px;margin:4px 0 4px;}
.active-filters .af-chip{background:#ffe3c1;color:#8a3d00;border:1px solid #ffb347;font-size:.55rem;padding:4px 8px;border-radius:20px;cursor:pointer;display:inline-flex;align-items:center;gap:4px;line-height:1;font-weight:600;}
.active-filters .af-chip span{font-weight:700;margin-left:2px;}
.catalog-dark .active-filters .af-chip{background:#3a2a15;color:#ffb347;border-color:#ff8d27;}
.catalog-light .filter-section {
    gap: 14px;
}
.catalog-light .filter-header {
    font-size: .63rem;
    font-weight: 700;
    letter-spacing: .8px;
    color: #444;
    border-bottom: 2px solid #efedea;
    padding-bottom: 8px;
}
.catalog-light .collapse-group {
    border: 1px solid #ece9e5;
    border-radius: 14px;
    overflow: hidden;
    transition: .25s;
}
.catalog-light .collapse-group .collapse-toggle {
    background: linear-gradient(#faf9f7, #f2f1ef);
    border: 0;
    border-bottom: 1px solid #ece9e5;
    border-radius: 14px 14px 0 0;
    font-size: .7rem;
    letter-spacing: .6px;
    color: #444;
    padding: 12px 16px;
    font-weight: 600;
}
.catalog-light .collapse-group.open {
    box-shadow: 0 4px 10px -3px rgba(0, 0, 0, .08);
}
.catalog-light .collapse-group .collapse-body {
    padding: 14px 16px;
    background: #fff;
}
.catalog-light .mini-field input,
.catalog-light .mini-field select,
.catalog-light .filter-input {
    border: 1px solid #dad6d1;
    background: #fff;
    border-radius: 10px;
    padding: .65rem .75rem;
    font-size: .78rem;
    transition: .25s;
}
.catalog-light .mini-field input:focus,
.catalog-light .mini-field select:focus,
.catalog-light .filter-input:focus {
    border-color: #ffb347;
    box-shadow: 0 0 0 3px rgba(255, 179, 71, .25);
}
.catalog-light .filter-actions {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-top: -6px;
}
.catalog-light .filter-actions #btn-apply {
    background: #0d6efd;
    border: 1px solid #0d6efd;
    font-weight: 600;
    font-size: .75rem;
    letter-spacing: .6px;
    padding: .7rem 1rem;
    border-radius: 12px;
    box-shadow: 0 4px 10px -2px rgba(13, 110, 253, .35);
    transition: .25s;
}
.catalog-light .filter-actions #btn-apply:hover {
    background: #0b5ed7;
}
.catalog-light .filter-actions #btn-clear {
    background: #222;
    border: 1px solid #222;
    color: #eee;
    font-weight: 600;
    font-size: .72rem;
    padding: .65rem 1rem;
    border-radius: 12px;
    transition: .25s;
}
.catalog-light .filter-actions #btn-clear:hover {
    background: #333;
}
.catalog-light .price-range {
    gap: 10px;
    position: relative;
    padding-top: 6px;
}
.catalog-light .price-range.dual {
    padding-top: 2px;
}
.catalog-light .price-range.dual input[type=range] {
    position: relative;
    pointer-events: none;
    background: transparent;
}
.catalog-light .price-range.dual input[type=range]::-webkit-slider-thumb {
    pointer-events: auto;
    position: relative;
    z-index: 2;
}
.catalog-light .price-range.dual:before {
    content: "";
    position: absolute;
    left: 0;
    right: 0;
    top: 6px;
    height: 6px;
    border-radius: 4px;
    background: #d8d5d1;
}
.catalog-light .price-range.dual:after {
    content: "";
    position: absolute;
    left: 0;
    top: 6px;
    height: 6px;
    border-radius: 4px;
    background: linear-gradient(90deg, #ffb347, #ffa028);
    z-index: 1;
}
.catalog-light .price-range.dual[data-range] {
    --a: 0%;
    --b: 100%;
}
.catalog-light .price-range.dual[data-range]:after {
    left: var(--a);
    right: calc(100% - var(--b));
}
.catalog-light .price-values {
    font-size: .58rem;
    letter-spacing: .5px;
    font-weight: 600;
    color: #7a7673;
    margin-top: 2px;
}
.catalog-light #price-range-container{padding-top:22px;}
.catalog-light #price-range-container .range-bubbles{position:absolute;top:0;left:0;width:100%;height:18px;pointer-events:none;font-size:.55rem;font-weight:600;letter-spacing:.4px;color:#7a7673;}
.catalog-light #price-range-container .range-bubble{position:absolute;top:0;transform:translateX(-50%);background:#fff;padding:2px 6px;border:1px solid #e2dfdc;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,.08);} 
/* Simplified slider look (hide bubbles, thin bar) */
.price-range.dual .range-bubbles{display:none!important;}
.price-range.dual input[type=range]{appearance:none;height:18px;background:transparent;margin:0;}
.price-range.dual{position:relative;}
.price-range.dual input[type=range]{position:absolute;left:0;width:100%;top:0;height:22px;margin:0;}
.price-range.dual input#price-max-range{ /* keep second thumb above */ z-index:3; }
.price-range.dual input#price-min-range{z-index:4;}
.price-range.dual input[type=range]::-webkit-slider-runnable-track{background:transparent!important;height:4px;border:none;}
.price-range.dual input[type=range]::-moz-range-track{background:transparent!important;height:4px;border:none;}
.price-range.dual input[type=range]::-ms-track{background:transparent!important;height:4px;border:none;color:transparent;}
.price-range.dual:before{top:10px;height:4px;}
.price-range.dual:after{top:10px;height:4px;}
/* Inline numeric edges */
.range-inline{display:flex;align-items:center;gap:10px;}
.range-inline .range-edge{width:86px;font-size:.6rem;padding:.4rem .5rem;border:1px solid #dad6d1;border-radius:8px;text-align:center;font-weight:600;background:#fff;color:#444;}
.catalog-dark .range-inline .range-edge{background:#2a2a2a;border:1px solid #3a3a3a;color:#ddd;}
.range-inline .range-track-wrap{position:relative;flex:1 1 auto;height:22px;}
.range-inline .range-track-wrap input[type=range]{height:22px;}
.price-range.dual input[type=range]::-webkit-slider-runnable-track{height:4px;background:transparent;}
.price-range.dual input[type=range]::-moz-range-track{height:4px;background:transparent;}
.price-range.dual input[type=range]::-webkit-slider-thumb{appearance:none;width:14px;height:14px;border-radius:50%;background:#ff9c32;border:2px solid #ffb347;box-shadow:0 0 0 2px rgba(0,0,0,.25);margin-top:-5px;cursor:pointer;transition:.25s;}
.price-range.dual input[type=range]:active::-webkit-slider-thumb{transform:scale(1.1);} 
.price-range.dual input[type=range]::-moz-range-thumb{width:14px;height:14px;border-radius:50%;background:#ff9c32;border:2px solid #ffb347;box-shadow:0 0 0 2px rgba(0,0,0,.25);cursor:pointer;transition:.25s;}
.price-range.dual:before{top:10px;height:4px;}
.price-range.dual:after{top:10px;height:4px;}
/* Dark theme variant */
.catalog-dark .price-range.dual{padding-top:0;}
.catalog-dark .price-range.dual:before{background:#333!important;top:10px;height:4px;}
.catalog-dark .price-range.dual:after{background:linear-gradient(90deg,#ff8d27,#ffb347)!important;top:10px;height:4px;}
.catalog-dark .price-range.dual input[type=range]::-webkit-slider-thumb{background:#ff8d27;border:2px solid #ffb347;}
.catalog-dark .price-range.dual input[type=range]::-moz-range-thumb{background:#ff8d27;border:2px solid #ffb347;}
/* Single max slider variant */
.price-range.single-max{position:relative;padding-top:8px;}
.price-range.single-max input[type=range]{width:100%;appearance:none;background:transparent;height:26px;margin:0;position:relative;z-index:3;}
.price-range.single-max:before{content:"";position:absolute;left:0;right:0;top:18px;height:4px;background:#333;border-radius:3px;}
.catalog-light .price-range.single-max:before{background:#d5d2cf;}
.price-range.single-max:after{content:"";position:absolute;left:0;top:18px;height:4px;border-radius:3px;background:linear-gradient(90deg,#ff8d27,#ffb347);z-index:2;width:var(--b,100%);}
.price-range.single-max input[type=range]::-webkit-slider-thumb{appearance:none;width:16px;height:16px;border-radius:50%;background:#ff8d27;border:2px solid #ffb347;box-shadow:0 0 0 4px rgba(255,141,39,.25);cursor:pointer;transition:.25s;margin-top:-6px;}
.price-range.single-max input[type=range]:active::-webkit-slider-thumb{transform:scale(1.1);} 
.price-range.single-max input[type=range]::-moz-range-thumb{width:16px;height:16px;border-radius:50%;background:#ff8d27;border:2px solid #ffb347;box-shadow:0 0 0 4px rgba(255,141,39,.25);cursor:pointer;transition:.25s;}
.price-range.single-max .value-bubble{position:absolute;top:0;transform:translateX(-50%);background:#4a4d50;color:#fff;font-size:.58rem;font-weight:600;padding:4px 8px;border-radius:14px;box-shadow:0 2px 4px rgba(0,0,0,.35);opacity:0;pointer-events:none;transition:.25s;}
.catalog-light .price-range.single-max .value-bubble{background:#4c5257;}
.price-range.single-max .value-bubble.show{opacity:1;}
/* Dual handles slider */
.price-range.dual-handles{position:relative;padding:10px 2px 20px;}
.price-range.dual-handles input[type=range]{position:absolute;left:0;top:8px;width:100%;appearance:none;background:transparent;height:24px;margin:0;pointer-events:none;outline:none;}
.price-range.dual-handles:before{content:"";position:absolute;left:6px;right:6px;top:16px;height:4px;background:#333;border-radius:2px;}
.catalog-light .price-range.dual-handles:before{background:#dad7d4;}
.price-range.dual-handles:after{content:"";position:absolute;top:16px;height:4px;border-radius:2px;background:linear-gradient(90deg,#ff8d27,#ffb347);left:calc(6px + var(--a,0%)*( (100% - 12px)/100 ));right:calc(6px + (100% - var(--b,100%))*( (100% - 12px)/100 ));}
.price-range.dual-handles input[type=range]::-webkit-slider-thumb{appearance:none;width:18px;height:18px;border-radius:50%;background:#fff;border:3px solid #ff8d27;box-shadow:0 1px 3px rgba(0,0,0,.35);cursor:pointer;pointer-events:auto;transition:.2s;margin-top:-4px;}
.price-range.dual-handles input[type=range]::-moz-range-thumb{width:18px;height:18px;border-radius:50%;background:#fff;border:3px solid #ff8d27;box-shadow:0 1px 3px rgba(0,0,0,.35);cursor:pointer;pointer-events:auto;transition:.2s;}
.price-range.dual-handles input[type=range]::-webkit-slider-thumb:hover{box-shadow:0 2px 5px rgba(0,0,0,.45);}
.price-range.dual-handles input[type=range]::-moz-range-thumb:hover{box-shadow:0 2px 5px rgba(0,0,0,.45);}
.price-range.dual-handles input[type=range]:focus-visible::-webkit-slider-thumb{outline:2px solid #222;outline-offset:2px;}
.catalog-light .price-range.dual-handles input[type=range]:focus-visible::-webkit-slider-thumb{outline:2px solid #fff;}
.price-range.dual-handles .value-bubble{position:absolute;top:0;transform:translateX(-50%);background:#41464b;color:#fff;font-size:.58rem;font-weight:600;padding:3px 7px;border-radius:14px;box-shadow:0 2px 4px rgba(0,0,0,.35);opacity:0;pointer-events:none;transition:.25s;}
.catalog-light .price-range.dual-handles .value-bubble{background:#52575c;}
.price-range.dual-handles .value-bubble.show{opacity:1;}

.filters-panel::-webkit-scrollbar {
    width: 8px;
}

.filters-panel::-webkit-scrollbar-thumb {
    background: #444;
    border-radius: 4px;
}

.filters-panel form {
    display: flex;
    flex-direction: column;
    gap: 18px;
}

.filter-section {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.filter-header {
    font-size: .7rem;
    letter-spacing: .6px;
    text-transform: uppercase;
    color: #bbb;
    font-weight: 600;
    border-bottom: 1px solid #333;
    padding-bottom: 6px;
}

.filter-label {
    font-size: .65rem;
    font-weight: 600;
    letter-spacing: .5px;
    text-transform: uppercase;
    color: #bbb;
}

.filter-input {
    background: #2a2a2a;
    border: 1px solid #3a3a3a;
    color: #eee;
}

.filter-input:focus {
    border-color: #ffb347;
    box-shadow: 0 0 0 2px rgba(255, 179, 71, .25);
}

.mini-field label {
    display: block;
    font-size: .6rem;
    text-transform: uppercase;
    letter-spacing: .5px;
    color: #bbb;
    margin-bottom: 4px;
    font-weight: 600;
}

.mini-field input,
.mini-field select {
    background: #2a2a2a;
    border: 1px solid #3a3a3a;
    color: #eee;
    font-size: .75rem;
    border-radius: 6px;
    padding: .45rem .55rem;
}

.mini-field input:focus,
.mini-field select:focus {
    border-color: #ffb347;
    outline: none;
    box-shadow: 0 0 0 2px rgba(255, 179, 71, .25);
}

.collapse-group {
    border: 1px solid #2d2d2d;
    border-radius: 8px;
    background: #242424;
}

.collapse-group+.collapse-group {
    margin-top: 4px;
}

.collapse-group .collapse-toggle {
    width: 100%;
    background: #2c2c2c;
    border: none;
    color: #e0e0e0;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 12px;
    font-size: .72rem;
    font-weight: 600;
    letter-spacing: .5px;
    border-radius: 8px 8px 0 0;
    cursor: pointer;
}

.collapse-group .collapse-toggle i {
    transition: .25s;
}

.collapse-group .collapse-body {
    padding: 10px 12px;
    display: none;
    flex-direction: column;
    gap: 12px;
}

.collapse-group.open .collapse-body {
    display: flex;
}

.collapse-group.open .collapse-toggle i {
    transform: rotate(180deg);
}

.filter-actions button {
    border-radius: 8px;
    font-weight: 600;
    letter-spacing: .4px;
}

.filter-actions .btn-outline-light {
    color: #eee;
    border-color: #555;
    background: #2c2c2c;
}

.filter-actions .btn-outline-light:hover {
    background: #373737;
}

.price-range {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.price-range input[type=range] {
    width: 100%;
    accent-color: #ffb347;
}

.price-values {
    display: flex;
    justify-content: space-between;
    font-size: .65rem;
    color: #bbb;
}

.catalog-dark .producto {
    background: #2b2b2b;
    border: 1px solid #3a3a3a;
    color: #eee;
}

.catalog-dark .producto h3 {
    color: #fff;
}

.catalog-dark .producto .precio {
    color: #ffcf73;
}

.catalog-light .producto {
    background: #fff;
    border: 1px solid #e5e5e5;
    color: #333;
}

.catalog-light .producto h3 {
    color: #222;
}

.catalog-light .producto .precio {
    color: #d47a00;
}

/* === Grid de productos (nuevo contenedor genérico) === */
.productos-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(210px, 1fr));
        gap: 24px;
        align-items: stretch;
}

/* Asegura que en pantallas muy anchas no queden columnas excesivamente largas */
.catalog-main { max-width: 1600px; }

@media (max-width: 1200px) {
    .productos-grid { gap: 20px; }
}

@media (max-width: 900px) {
    .productos-grid { grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); }
}

@media (max-width: 600px) {
    .productos-grid { grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); }
}

.catalog-light .pagination-toolbar {
    background: #ffffff;
    color: #444;
    border: 1px solid #e0e0e0;
}

.catalog-light .pagination-toolbar select,
.catalog-light .pagination-toolbar button {
    background: #fff;
    border: 1px solid #d0d0d0;
    color: #333;
}

.catalog-light .pagination-toolbar button:hover {
    background: #f2f2f2;
}

.catalog-light .btn-add {
    background: var(--color-primary, #ffb347);
    color: #222;
    border: 1px solid var(--color-primary-hover, #ffa437);
}

.catalog-light .btn-add:hover {
    background: var(--color-primary-hover, #ffa437);
}

.catalog-light .filters-panel {
    background: #ffffff;
    border: 1px solid #e2e2e2;
    color: #444;
}

.catalog-light .filter-header,
.catalog-light .filter-label,
.catalog-light .mini-field label {
    color: #666;
}

.catalog-light .filter-input,
.catalog-light .mini-field input,
.catalog-light .mini-field select {
    background: #fff;
    border: 1px solid #d5d5d5;
    color: #333;
}

.catalog-light .filter-input:focus,
.catalog-light .mini-field input:focus,
.catalog-light .mini-field select:focus {
    border-color: var(--color-primary, #ffb347);
    box-shadow: 0 0 0 2px rgba(255, 179, 71, .25);
}

.catalog-light .collapse-group {
    background: #fff;
    border: 1px solid #e4e4e4;
}

.catalog-light .collapse-group .collapse-toggle {
    background: #f5f5f5;
    color: #444;
}

.catalog-light .stock-note {
    color: #666 !important;
}

/* ===== Theme toggle control ===== */
.theme-toggle {
    border: 1px solid #d0d0d0;
    background: #fff;
    color: #444;
    font-size: .65rem;
    font-weight: 600;
    letter-spacing: .5px;
    padding: 6px 12px;
    border-radius: 30px;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    gap: 6px;
    transition: .25s;
}

.theme-toggle:hover {
    background: #f2f2f2;
}

.theme-toggle .icon {
    font-size: .85rem;
    line-height: 1;
}

.catalog-dark .theme-toggle {
    background: #2d2d2d;
    border: 1px solid #444;
    color: #ddd;
}

.catalog-dark .theme-toggle:hover {
    background: #383838;
}

.catalog-dark .pagination-toolbar {
    background: #2d2d2d;
    color: #ddd;
    border: 1px solid #3a3a3a;
}

.catalog-dark .pagination-toolbar select,
.catalog-dark .pagination-toolbar button {
    background: #2e2e2e;
    border: 1px solid #444;
    color: #ddd;
}

.catalog-dark .pagination-toolbar button:hover {
    background: #383838;
}

.catalog-dark .stock-note {
    color: #aaa !important;
}

.catalog-dark .btn-add {
    background: #ffb347;
    color: #222;
    border: 1px solid #ffad32;
}

.catalog-dark .btn-add:hover {
    background: #ffa028;
}

@media (max-width:1100px) {
    .catalog-layout {
        flex-direction: column;
    }

    .catalog-layout .filters-panel {
        position: relative;
        top: 0;
        width: 100%;
        flex: 0 0 auto;
        max-width: none;
        max-height: none;
    }
}

/* Carousel inside dark catalog main */
.catalog-dark .hero-carousel {
    border: 1px solid #333;
    background: #1d1d1d;
    box-shadow: 0 4px 14px rgba(0, 0, 0, .4);
    border-radius: 12px;
    overflow: hidden;
}

.catalog-dark .hero-carousel img {
    object-fit: cover;
    height: 260px;
    width: 100%;
}

@media (max-width:700px) {
    .catalog-dark .hero-carousel img {
        height: 180px;
    }
}